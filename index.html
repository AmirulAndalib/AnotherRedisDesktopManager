<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" type="text/css" id="theme-link">
    <title>Another Redis Desktop Manager</title>
  </head>
  <body>
    <!-- this script must be placed here after body -->
    <script type="text/javascript">
      function globalChangeTheme(theme) {
        if (!['dark', 'light', 'system'].includes(theme)) {
          theme = 'light';
        }

        // follow system
        if (theme == 'system') {
          theme = (new URL(window.location.href)).searchParams.get('dark') == 'true' ? 'dark' : 'light';
        }

        const themeHref = 'static/theme/' + theme + '/index.css';
        document.getElementById('theme-link').href = themeHref;
        theme == 'dark' ? document.body.classList.add('dark-mode') :
                              document.body.classList.remove('dark-mode');
      }

      // theme init
      globalChangeTheme(localStorage.theme);
    </script>

    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
